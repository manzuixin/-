# 数据库 实验1

[TOC]

## 一、【实验目的】

1. 熟悉数据库管理系统的安装与使用
2. 掌握基本的DBMS操作方法
3. 了解图形化数据库管理工具

## 二、【实验环境】

操作系统：Windows 10 专业版

DBMS：MySQL **5.5**

MySQL图形化界面：Intellij IDEA 数据库图形管理

## 三、【实验内容】

安装MySQL，启动MySQL服务

## 四、【实验步骤】

### 1.安装MySQL

​		安装步骤略。安装成功后在windows的“开始”菜单中会有一个“MySQL”的程序组，里面存放有一个名为“MySQL 5.5 Command Line Client”的管理软件的快捷方式。利用它可以快速登录入MySQL服务器进行管理。

​		在MySQL的安装目标文件夹里有一个bin文件夹，里面有MySQL管理器(MySQL.exe)、MySQL备份工具(mysqldump.exe)等若干MySQL的执行程序。我们需要知道安装目标文件夹，以便将来从这里使用MySQL的各种工具。（MySQL的安装目标文件夹在哪儿？“打开文件位置”或者属性对话框）。

### 2.启动MySQL服务

​		打开windows的服务，（单击一行输入“m”或“mysql”可快速跳转），找到MySQL服务实例名称（默认就是“MySQL”。除非安装时命名过），确保为“正在运行”状态，不是则利用工具按钮或右键菜单启动它。

### 3.连接到本地服务器实例

​		启动“MySQL 5.5 Command Line Client”以默认的root身份连接到本地服务器实例，此时要求输入密码（默认用户为root，无密码，直接回车即可。除非安装时设置了密码）。回车后如果闪退，说明连接失败了，请检查密码是否正确、服务器是否正在运行等，然后重新连接。连接成功后，则会看到“welcome to the….”等多行信息。

### 4.字符集gbk

​		之后的实验，由于要用到中文字符，所以需要使用以下命令设置字符集为gbk：

```
charset gbk;
```

### 5.命令练习

​		❶显示服务器上的数据库列表

​		❷在本机MySQL服务器实例上建立一个以自己中文全名命名的数据库。

​		❸显示数据库中的表，此时应该空空如也。

​		❹建立一张名为“通讯录”的表。

​		❺为了验证是不是真的创建好表了，再显示一次当前打开的数据库中的表。

​		❻为“通讯录”的表添加数据。

​		❼在本地服务器上的操作就算结束了，那我们就可以关闭“MySQL 5.5 Command Line Client”了。

```
show databases;#显示服务器上的数据库列表
create database 自己的中文全名;
show databases;
use 自己的中文全名;#进入（打开）你建立的数据库
show tables;#显示当前打开的数据库中的表。此时应该空空如也。

/*新建的数据库里没有任何表，
所以我们来建立一张名为“通讯录”的表*/
create table 通讯录(
姓名 char(6),
性别 char(2),
年龄 int,
籍贯 char(40),
电话 char(11));
show tables;

/*参考下面的数据插入4条命令，给通讯录表添加数据*/
Insert into 通讯录
Value ('姓名','男',20,'中国','19123456789')
```

### 6.连接到远程服务器

（【注】注意服务器在校园网内网中的，外网是不能访问的！！！）

​	➀进入windows命令控制台（即命令提示符，cmd），

​	➁输入以下命令进入MySQL的安装目标文件夹的bin文件夹下（默认是C:\Program Files\MySQL\MySQL Server 5.5\bin

​	➂ `Mysql -h 10.2.130.242 -u xuesheng -p`连接远程服务器

​	➃ 进行操作。了解用户权限。

```
cd C:\Program Files\MySQL\MySQL Server 5.5\bin#cmd

Mysql -h 10.2.130.242 -u xuesheng -p
/*参数-h后面是服务器的名称或IP（换成localhost或本地ip，再或者连-h都不写，就变成连接本地服务器了），
-u后面跟的是用户名，
-p表示需要密码（其实可以直接把密码写在-p后，你有空试试看直接写有什么不同）。*/

#接下来的password输入 123（此处无回显）

charset gbk;
show databases;
use xjgl;#打开xjgl数据库
show tables;
select * from teacher;#25．	查询xjgl数据库中的teacher表

delete from teacher;
/*删除teacher表中的老师
返回错误 ERROR信息
原因：当前用户没有进行该操作的权限，需要 root 用户授权才能解决
*/
```

### 7.数据库图形管理

其实在工作中，我们可以使用一些更高效的管理工具来管理数据库，例如SQLyog，NaviCat等等。

而我暂时采用Intellij IDEA数据库图形管理。旗舰版自带数据库图形界面，社区版你可以通过插件集成图形界面。

## 五、【实验总结】

### 1.mysql命令编辑使用时的常用技能，请熟练掌握：

​	1）命令的关键词是不分大小写的，但符号必须是英文的。

​	2）一条命令的默认结束符 “;” 。

​	3）命令执行成功的标志，就是执行后没有error。

​	4）上下箭头方向键翻出历史命令。

​	5）“**ESC**”键取消已经输入的单行内容（优于backspace）

​	6）命令可以分多行编写，mysql用 `->` 标志续行。 `/c` 再回车取消多行内容。

​	7）支持文本的选择、复制和粘贴。

​		①一般是鼠标（矩形选择可借助alt+鼠标）拖动选择，回车或鼠标右键复制；鼠标右键粘贴

​		②ctrl +c/v

​		③右击命令行窗口弹出菜单选用

​	8）建议同时打开“记事本”之类的文本编辑器

​		在文本编辑器中编辑好命令，然后在命令行中粘贴出来执行，这样效率高一些。同时编辑器中保存的命令语句还可以反复使用，一举多得。

### 2.MySQL注释

​	⑴单行注释

​		`#`注释符,`#`注释符后直接加注释内容。

​		`--`注释符，`--`注释符后需要加一个空格.

​	⑵多行注释`/* */`注释符。

```
#注释内容
-- 注释内容
/*
  第一行注释内容
  第二行注释内容
*/
```

